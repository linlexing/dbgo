<style type="text/css">
	body {
		padding-top: 40px;
		padding-bottom: 40px;
		background-color: #eee;
	}

	.form-signin {
		max-width: 330px;
		padding: 15px;
		margin: 0 auto;
	}
	.form-signin .form-signin-heading,
	.form-signin .checkbox {
		margin-bottom: 10px;
	}
	.form-signin .checkbox {
		font-weight: normal;
	}
	.form-signin .form-control {
		position: relative;
		height: auto;
		-webkit-box-sizing: border-box;
		   -moz-box-sizing: border-box;
		        box-sizing: border-box;
		padding: 10px;
		font-size: 16px;
	}
	.form-signin .form-control:focus {
		z-index: 2;
	}
	.form-signin input[type="text"] {
		margin-bottom: -1px;
		border-bottom-right-radius: 0;
		border-bottom-left-radius: 0;
	}
	.form-signin input[type="password"] {
		margin-bottom: 10px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
</style>
<script>
	app.controller('MainCtrl', ['$scope', '$http','$window',function($scope,$http,$window) {
		$scope.userName = '';
		$scope.password = '';
		$scope.error = null;
		$scope.auth=function(){
			$http.post(<#url "login.auth"#>,{userName:$scope.userName,password:$scope.password})
				.success(function(data,status,headers,config,statusText){
					if(data.ok){
						$window.location = <#url "home.show"#>;
					}else{
						$scope.error="the user name or password invalid"
					}
				})
				.error(function(data,status,headers,config,statusText){
					$scope.error = data;
				});
		}
	}]);
</script>
<div class="container" ng-controller="MainCtrl" >
	<form name="frmLogin" class="form-signin" role="form" novalidate>
		<h2 class="form-signin-heading">Please sign in</h2>
		<input type="text" class="form-control" placeholder="User name" required autofocus ng-model="userName" ng-change="error=null"></input>
		<input type="password" class="form-control" placeholder="Password" required ng-model="password" ng-change="error=null"></input>
		<p class="text-danger" ng-show="error">{{error}}</p>
		<button class="btn btn-lg btn-primary btn-block" type="submit" ng-click="auth()" ng-disabled="frmLogin.$invalid">Sign in</button>
	</form>
</div>
