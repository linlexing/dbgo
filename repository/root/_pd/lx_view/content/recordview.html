<#if not .G#>
	<#set . "G" mkMap#>
<#end#>
<#set .G "rv_dataAction" (authUrl "rv.fetch" .c.Tag.Element.name)#>
<#set .G "rv_watchAction" (authUrl "watch.rv" .c.Tag.Element.name)#>
<#set .G "rv_primaryKeys" .recordView.pk#>

<#if not .Translate_en#>
	<#set . "Translate_en" mkMap#>
<#end#>
<#set .Translate_en "SEARCH" "Search"#>
<#set .Translate_en "OPT_PREX" "Prefix"#>
<#set .Translate_en "OPT_EQ" "Equal"#>
<#set .Translate_en "OPT_LIKE" "Like"#>
<#set .Translate_en "OPT_NE" "NotEqual"#>
<#set .Translate_en "OPT_LT" "LessThan"#>
<#set .Translate_en "OPT_LE" "LTE"#>
<#set .Translate_en "OPT_GT" "GreaterThan"#>
<#set .Translate_en "OPT_GE" "GTE"#>
<#set .Translate_en "OPT_IN" "In"#>
<#set .Translate_en "OPT_NIN" "NotIn"#>
<#set .Translate_en "OPT_REGEXP" "RegExp"#>
<#set .Translate_en "OPT_SUFX" "Suffix"#>

<#set .Translate_en "NO" "NO."#>
<#set .Translate_en "START_TIME" "Start Time"#>
<#set .Translate_en "TIME_CONSUMING" "Time consuming"#>

<#if not .Translate_cn#>
	<#set . "Translate_cn" mkMap#>
<#end#>
<#set .Translate_cn "SEARCH" "搜索"#>
<#set .Translate_cn "OPT_PREX" "前缀"#>
<#set .Translate_cn "OPT_EQ" "等于"#>
<#set .Translate_cn "OPT_LIKE" "包含"#>
<#set .Translate_cn "OPT_NE" "不等于"#>
<#set .Translate_cn "OPT_LT" "小于"#>
<#set .Translate_cn "OPT_LE" "小于等于"#>
<#set .Translate_cn "OPT_GT" "大于"#>
<#set .Translate_cn "OPT_GE" "大于等于"#>
<#set .Translate_cn "OPT_IN" "在列表"#>
<#set .Translate_cn "OPT_NIN" "不在列表"#>
<#set .Translate_cn "OPT_REGEXP" "正则"#>
<#set .Translate_cn "OPT_SUFX" "后缀"#>
<#set .Translate_cn "NO" "序号"#>
<#set .Translate_cn "START_TIME" "开始时间"#>
<#set .Translate_cn "TIME_CONSUMING" "耗时"#>
<#append . "OtherJSFiles" (static "recordview/page.js")#>

<#template "pjheader.html" .#>
<link rel="stylesheet" type="text/css" href="<#static "recordview/page.css"#>">
<script type="text/ng-template" id="process.html">
<ul class="dropdown-menu">
	<li><a href="">test1</a></li>
	<li><a href="">test1</a></li>
	<li><a href="">test1</a></li>
	<li><a href="">test1</a></li>
</ul>
</script>
<script type="text/ng-template" id="privateTemplate.html">
<ul class="dropdown-menu">
	<li><a href="">test1</a></li>
	<li><a href="">test1</a></li>
	<li><a href="">test1</a></li>
	<li><a href="">test1</a></li>
</ul>
</script>

<div ng-controller="mainCtrl">
	<nav role="navigation" class="navbar navbar-default">
	    <!-- Brand and toggle get grouped for better mobile display -->
	    <div class="navbar-header">
			<div ng-show="pending==0" class="navbar-brand navbar-left" data-animation="am-flip-x" bs-dropdown data-template="process.html" data-placement="bottom-left" data-container="body">
				<a href="">
					<i class="fa fa-th"></i>
				</a>
			</div>
			<div class="navbar-brand navbar-left spin" ng-show="pending>0">
				<div id="spinDiv"></div>
			</div>
	        <button type="button" ng-click="navCollapsed = !navCollapsed" class="navbar-toggle">
	            <span class="sr-only">Toggle navigation</span>
	            <span class="icon-bar"></span>
	            <span class="icon-bar"></span>
	            <span class="icon-bar"></span>
	        </button>
	    </div>
	    <!-- Collection of nav links and other content for toggling -->
	    <div class="collapse navbar-collapse"  ng-class="{'in':!navCollapsed}">
			<form class="navbar-form navbar-left" role="search">
				<select class="form-control" ng-model="search.field" ng-options="column.displayName[$translate.use()] for column in data.columns track by column.fieldName">
					<option value=""></option>
				</select>
				<select class="form-control" ng-model="search.opt" ng-options="item|translate for item in searchOpts">
				</select>
				<input type="text" class="form-control" placeholder="{{'SEARCH'|translate}}" ng-model="search.value"/>
				<button type="submit" class="btn btn-default" ng-click="refreshData()" ng-disabled="pending">
					<i class="fa fa-search"></i>
				</button>

			</form>
			<form class="navbar-form navbar-right" role="search">
				<div class="form-group">
					<label>模板(公):</label>
					<select class="form-control">
					  <option>1</option>
					  <option>2</option>
					  <option>3</option>
					  <option>4</option>
					  <option>5</option>
					</select>
					<a class="btn btn-default"><i class="fa fa-pencil-square-o"></i></a>
				</div>
				<div class="form-group">
					<label>私:</label>
					<select class="form-control">
					  <option>1</option>
					  <option>2</option>
					  <option>3</option>
					  <option>4</option>
					  <option>5</option>
					</select>
					<a class="btn btn-default"><i class="fa fa-pencil-square-o"></i></a>
				</div>
			</form>
	    </div>
	</nav>
	<div class="content">
		<div class="fetchinfo">
		{{'START_TIME'|translate}}:{{fetchInfo.startTime| date:'yyyy-MM-dd HH:mm:ss'}} {{'TIME_CONSUMING'|translate}}:{{fetchInfo.time}} ms
		</div>
		<table class="table table-striped table-bordered table-hover">
			<thead>
				<tr ng-if="data.columns.length>0">
					<th ng-style="thStyle">{{'NO'|translate}}</th>
					<th ng-repeat="column in data.columns" ng-style="thStyle" ng-class="{notallowed:pending!=0,allowed:pending==0}" ng-click="thClick(column)">
					{{column.displayName[$translate.use()]}}&nbsp;<i ng-if="column.fieldName==sort.column" class="fa ng-class:{'fa-caret-up':sort.type=='ASC','fa-caret-down':sort.type=='DESC'}"></i>
					</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="item in data.data">
					<td class="nocolumn">{{item._No_}}</td>
					<td ng-repeat="column in data.columns">
						{{item[column.fieldName]}}
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>
<#template "pjfooter.html" .#>
